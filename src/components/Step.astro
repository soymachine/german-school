---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
interface Props {
	step: string,
	act: string,
}

const { step, act } = Astro.props;

const extraStep = (step == "1")? "stepOrange" : ""
const notFirst = (step !== "0")
const stepNum = Number(step)
const isTravel = (step == "3") ? true: false

---
<script>
    const headerHeight = 54
    const footerHeight = 39

    const stepHeight = document.querySelector(".step").getBoundingClientRect().height

    // change .step-content height based on stepHeight
    const $stepContent = document.querySelector(".step-content") as HTMLElement
    $stepContent.style.height = `${(stepHeight - headerHeight - footerHeight)}px`
</script>
<div class=`step` id=`step-${step}` class:list={[{ bgTravel: isTravel }]}>
    
    <div class="step-header">
        <Header step={step} act={act}/>
    </div>
    <div class="step-content">
        <slot />
    </div>
    <div class="step-footer">
        <Footer>
    </div>
</div>
<style>

    .step {
        display: grid;
        grid-template-areas: 
        'header'
        'content'
        'footer';
        grid-template-rows: auto auto auto;
    }

    .bgTravel {
        background-color: #BFE8F6;
    }

    .step-header{
        grid-area: header;
        position: relative;
        display: flex;
        justify-content: space-between;
    }

    .step-content{
        grid-area: content;
        /*width: 100%;*/
        max-height: 507; /* Esto ha de cambiar de forma din√°mica */
    }

    .step-footer{
        grid-area: footer;
        width: 100%;
    }

	.button{
        
    }
	
</style>